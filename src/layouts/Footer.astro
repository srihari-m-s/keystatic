---
import { getCollection } from "astro:content";

interface SocialLinksData {
  linkedin?: string;
}

const socialLinksEntries = await getCollection("socialLinks");
const socialLinksData =
  (socialLinksEntries?.[0]?.data as SocialLinksData | undefined) ?? undefined;

const rawLinkedinId = (socialLinksData?.linkedin || "").trim();
const linkedinUrl = rawLinkedinId
  ? `https://www.linkedin.com/in/${rawLinkedinId}`
  : undefined;
---

{
  linkedinUrl && (
    <footer class="mt-16 border-t border-base-300/60 py-8">
      <div class="max-w-2xl mx-auto flex justify-end">
        <a
          href={linkedinUrl}
          target="_blank"
          rel="noreferrer noopener"
          class="inline-flex items-center gap-2 text-base-content/70 hover:text-base-content transition-colors"
          aria-label="LinkedIn profile"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            viewBox="0 0 24 24"
            fill="none"
            stroke="currentColor"
            stroke-width="2"
            stroke-linecap="round"
            stroke-linejoin="round"
            class="lucide lucide-linkedin-icon lucide-linkedin"
          >
            <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z" />
            <rect width="4" height="12" x="2" y="9" />
            <circle cx="4" cy="4" r="2" />
          </svg>
          <span class="sr-only">LinkedIn</span>
        </a>
      </div>
    </footer>
  )
}
